# fund-analyzer

基金量化分析 CLI 工具。从天天基金抓取数据，通过多维评分模型对基金进行量化评分和评级。

## 安装

```bash
pnpm install
pnpm build
```

构建后可通过 `node dist/index.js` 运行，或 `npm link` 后直接使用 `fund-analyzer` 命令。

## 使用方法

### 分析单只基金

```bash
fund-analyzer analyze <基金代码>

# 示例
fund-analyzer analyze 110011
fund-analyzer analyze 110011 --json  # JSON 格式输出
```

### 批量分析

```bash
fund-analyzer batch <代码1>,<代码2>,...

# 示例
fund-analyzer batch 110011,000001,519694
fund-analyzer batch 110011,000001 --sort return  # 按收益排序
fund-analyzer batch 110011,000001 --json          # JSON 格式输出
```

排序选项：`score`（默认）| `return` | `risk`

### 对比两只基金

```bash
fund-analyzer compare <代码1> <代码2>

# 示例
fund-analyzer compare 110011 000001
```

## 评分模型（满分 100）

### 收益能力（40 分）

| 评分项 | 满分 | 说明 |
|--------|------|------|
| 近 1 年收益 | 15 | ≥30% 满分，≥20% 12分，≥10% 9分，≥0% 5分 |
| 近 3 年收益 | 15 | ≥80% 满分，≥50% 12分，≥30% 9分，≥0% 5分 |
| 夏普比率 | 10 | ≥2.0 满分，≥1.5 8分，≥1.0 6分，≥0.5 4分 |

### 风险控制（30 分）

| 评分项 | 满分 | 说明 |
|--------|------|------|
| 最大回撤 | 15 | ≤10% 满分，≤20% 12分，≤30% 8分，≤40% 5分 |
| 索提诺比率 | 10 | ≥2.5 满分，≥2.0 8分，≥1.5 6分，≥1.0 4分 |
| 波动率 | 5 | ≤10% 满分，≤15% 4分，≤20% 3分，≤25% 2分 |

### 综合评价（30 分）

| 评分项 | 满分 | 说明 |
|--------|------|------|
| 晨星评级 | 15 | 评级 × 3，最高 15 分 |
| 基金规模 | 5 | 2-100 亿满分，过大或过小扣分 |
| 经理年限 | 5 | ≥7 年满分，≥5 年 4分，≥3 年 3分 |
| 费率 | 5 | ≤0.8% 满分，≤1.2% 4分，≤1.5% 3分 |

## 评级标准

| 总分 | 评级 |
|------|------|
| ≥85 | 优秀 |
| ≥70 | 良好 |
| ≥55 | 中等 |
| ≥40 | 较差 |
| <40 | 差 |

## 数据来源

数据来自[天天基金网](https://fund.eastmoney.com/)，包括：

- 基金基本信息（名称、类型、成立日期）
- 业绩数据（近 1 年/3 年收益率、夏普比率）
- 净值数据（用于计算最大回撤、波动率、索提诺比率）
- 基金详情（规模、基金经理任职年限、管理费率、托管费率）

## 免责声明

本工具仅供学习和参考使用，不构成任何投资建议。基金投资有风险，投资需谨慎。评分模型为简化模型，不能完全反映基金的实际表现和未来走势。
